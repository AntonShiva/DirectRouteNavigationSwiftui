
## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω: Direct Route Navigation (DRN)

## DRN - —ç—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –≤ SwiftUI, –∫–æ—Ç–æ—Ä—ã–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- –ü—Ä—è–º—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏ —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—ã–π enum
- –£–º–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞
- –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∞–Ω–∏–º–∞—Ü–∏—è–º–∏ –∏ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏
  
## üìö –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
- [–í–≤–µ–¥–µ–Ω–∏–µ](#–≤–≤–µ–¥–µ–Ω–∏–µ)
- [–§–∏–ª–æ—Å–æ—Ñ–∏—è –ø–æ–¥—Ö–æ–¥–∞](#—Ñ–∏–ª–æ—Å–æ—Ñ–∏—è-–ø–æ–¥—Ö–æ–¥–∞)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Ä–µ—à–µ–Ω–∏—è)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
- [–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã](#–æ—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
- [–¢–∏–ø—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏](#—Ç–∏–ø—ã-–Ω–∞–≤–∏–≥–∞—Ü–∏–∏)
- [–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
- [–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏](#–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ-—Å—Ü–µ–Ω–∞—Ä–∏–∏)
- [–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å NavigationStack](#—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ-—Å-navigationstack)
- [–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏](#—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏)
- [–û—Ç–ª–∞–¥–∫–∞ –∏ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#–æ—Ç–ª–∞–¥–∫–∞-–∏-—Ä–µ—à–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)
- [–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã](#—á–∞—Å—Ç–æ-–∑–∞–¥–∞–≤–∞–µ–º—ã–µ-–≤–æ–ø—Ä–æ—Å—ã)
- [–ó–∞–∫–ª—é—á–µ–Ω–∏–µ](#–∑–∞–∫–ª—é—á–µ–Ω–∏–µ)

## üéØ –í–≤–µ–¥–µ–Ω–∏–µ

–≠—Ç–æ —É—á–µ–±–Ω–æ–µ –ø–æ—Å–æ–±–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –≤ SwiftUI, –∫–æ—Ç–æ—Ä—ã–π –¥–∞–µ—Ç –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏ –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏ –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è NavigationStack. –†–µ—à–µ–Ω–∏–µ –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, —Ç—Ä–µ–±—É—é—â–∏—Ö —Å–ª–æ–∂–Ω–æ–π, –Ω–µ–ª–∏–Ω–µ–π–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.

### –î–ª—è –∫–æ–≥–æ —ç—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ:
- SwiftUI —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏, –∏—â—É—â–∏–µ –±–æ–ª—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
- –ö–æ–º–∞–Ω–¥—ã, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ –Ω–∞–¥ —Å–ª–æ–∂–Ω—ã–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏
- –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏, –ø–µ—Ä–µ—Ö–æ–¥—è—â–∏–µ —Å UIKit
- –¢–µ, –∫—Ç–æ —Ö–æ—á–µ—Ç –ø–æ–Ω—è—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∫ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### –ß—Ç–æ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:
- ‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É –ª—é–±—ã–º–∏ —ç–∫—Ä–∞–Ω–∞–º–∏
- ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∞–Ω–∏–º–∞—Ü–∏—è–º–∏
- ‚úÖ –£–º–Ω—É—é —Å–∏—Å—Ç–µ–º—É –≤–æ–∑–≤—Ä–∞—Ç–∞ –∫ –ø—Ä–µ–¥—ã–¥—É—â–∏–º —ç–∫—Ä–∞–Ω–∞–º
- ‚úÖ –ü—Ä–æ—Å—Ç—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å TabBar
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫—É –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã—Ö –æ–≤–µ—Ä–ª–µ–µ–≤
- ‚úÖ –õ–µ–≥–∫—É—é –æ—Ç–ª–∞–¥–∫—É –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- iOS 14.0+ (—Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –±–µ–∑ iOS 16!)
- Xcode 12.0+
- –ë–∞–∑–æ–≤—ã–µ –∑–Ω–∞–Ω–∏—è SwiftUI

## üß© –§–∏–ª–æ—Å–æ—Ñ–∏—è –ø–æ–¥—Ö–æ–¥–∞

### –¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π NavigationStack:
```
A ‚Üí B ‚Üí C ‚Üí D
‚Üë___________‚Üì (—Ç–æ–ª—å–∫–æ –Ω–∞–∑–∞–¥ –ø–æ —Å—Ç–µ–∫—É)
```

### –ù–∞—à –ø–æ–¥—Ö–æ–¥:
```
     A ‚Üê‚Üí B
     ‚Üì ‚§° ‚Üë
     C ‚Üê‚Üí D
(–ø—Ä—è–º—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É –ª—é–±—ã–º–∏ —ç–∫—Ä–∞–Ω–∞–º–∏)
```

**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**
1. **–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ—Å—Ç—å** - –æ–ø–∏—Å—ã–≤–∞–µ–º –ß–¢–û –ø–æ–∫–∞–∑–∞—Ç—å, –∞ –Ω–µ –ö–ê–ö —Ç—É–¥–∞ –ø–æ–ø–∞—Å—Ç—å
2. **–ü—Ä—è–º—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã** - –∏–∑ –ª—é–±–æ–≥–æ –º–µ—Å—Ç–∞ –≤ –ª—é–±–æ–µ –º–µ—Å—Ç–æ
3. **–ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã** - –æ–¥–∏–Ω enum –æ–ø–∏—Å—ã–≤–∞–µ—Ç –≤—Å–µ —ç–∫—Ä–∞–Ω—ã
4. **–£–º–Ω–∞—è –ø–∞–º—è—Ç—å** - —Å–∏—Å—Ç–µ–º–∞ –ø–æ–º–Ω–∏—Ç –æ—Ç–∫—É–¥–∞ –≤—ã –ø—Ä–∏—à–ª–∏ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

### –í–∏–∑—É–∞–ª—å–Ω–∞—è —Å—Ö–µ–º–∞:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                NavigationManager                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ currentRoute: Route                     ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ activeOverlay: OverlayType             ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ routeBeforeComposite: Route?           ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                      ‚Üì                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ go(_ route: Route)                      ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ showOverlay(_ type: OverlayType)       ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ hideOverlay()                           ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                       ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  ContentView                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ HeaderView (–≤—Å–µ–≥–¥–∞ –≤–∏–¥–∏–º)               ‚îÇ   ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§   ‚îÇ
‚îÇ  ‚îÇ MainContainer                           ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ   switch currentRoute {                 ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ     case .home: HomeView()             ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ     case .search: SearchView()         ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ     ...                                ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ   }                                    ‚îÇ   ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§   ‚îÇ
‚îÇ  ‚îÇ TabBar (üè† üîç ‚ù§Ô∏è üë§)                   ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                                 ‚îÇ
‚îÇ  [–û–≤–µ—Ä–ª–µ–π –µ—Å–ª–∏ activeOverlay != .none]         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ Route enum

```swift
// –û–ø–∏—Å—ã–≤–∞–µ–º –í–°–ï –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
enum Route: Equatable {
    // –û—Å–Ω–æ–≤–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã (–¥–ª—è TabBar)
    case home
    case search
    case favorites
    case profile
    
    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã
    case settings
    case detail(id: String)
    case favoriteItem(id: String)
    case searchResults(query: String)
    
    // –°–æ—Å—Ç–∞–≤–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã - –∫–æ–º–±–∏–Ω–∞—Ü–∏—è —ç–∫—Ä–∞–Ω–∞ + –æ–≤–µ—Ä–ª–µ—è
    case profileWithSettings  // –û—Ç–∫—Ä–æ–µ—Ç profile + settings overlay
    case favoriteItemWithSettings(id: String)  // favoriteItem + settings
    case detailWithFilter(id: String)  // detail + filter overlay
}
```

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ OverlayType enum

```swift
enum OverlayType: Equatable {
    case none
    case settings
    case filter
    case notification
    case itemSettings(itemId: String)
}
```

### –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ NavigationManager

```swift
class NavigationManager: ObservableObject {
    @Published var currentRoute: Route = .home
    @Published var activeOverlay: OverlayType = .none
    
    // –ö–ª—é—á–µ–≤–∞—è —Ñ–∏—á–∞: –∑–∞–ø–æ–º–∏–Ω–∞–µ–º –æ—Ç–∫—É–¥–∞ –ø—Ä–∏—à–ª–∏ –¥–ª—è —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
    private var routeBeforeComposite: Route? = nil
    
    // Singleton –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
    static let shared = NavigationManager()
    private init() {}
    
    // –û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
    func go(_ route: Route) {
        withAnimation(.easeInOut(duration: 0.15)) {
            switch route {
            // –°–æ—Å—Ç–∞–≤–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã - –∑–∞–ø–æ–º–∏–Ω–∞–µ–º —Ç–µ–∫—É—â–∏–π —ç–∫—Ä–∞–Ω
            case .profileWithSettings:
                routeBeforeComposite = currentRoute
                currentRoute = .profile
                activeOverlay = .settings
                
            case .favoriteItemWithSettings(let id):
                routeBeforeComposite = currentRoute
                currentRoute = .favoriteItem(id: id)
                activeOverlay = .itemSettings(itemId: id)
                
            // –û–±—ã—á–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã - –Ω–µ –∑–∞–ø–æ–º–∏–Ω–∞–µ–º
            default:
                routeBeforeComposite = nil
                currentRoute = route
                activeOverlay = .none
            }
        }
    }
    
    // –°–∫—Ä—ã—Ç–∏–µ –æ–≤–µ—Ä–ª–µ—è —Å —É–º–Ω—ã–º –≤–æ–∑–≤—Ä–∞—Ç–æ–º
    func hideOverlay() {
        withAnimation(.easeInOut(duration: 0.15)) {
            activeOverlay = .none
            
            // –ï—Å–ª–∏ –±—ã–ª —Å–æ—Å—Ç–∞–≤–Ω–æ–π –º–∞—Ä—à—Ä—É—Ç - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –æ—Ç–∫—É–¥–∞ –ø—Ä–∏—à–ª–∏
            if let previousRoute = routeBeforeComposite {
                currentRoute = previousRoute
                routeBeforeComposite = nil
            }
        }
    }
}
```

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ App

```swift
@main
struct MyApp: App {
    @StateObject private var nav = NavigationManager.shared
    
    var body: some Scene {
        WindowGroup {
            ContentView()
                .environmentObject(nav)
        }
    }
}
```

## üì± –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. ContentView - –≥–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

```swift
struct ContentView: View {
    @EnvironmentObject var nav: NavigationManager
    
    var body: some View {
        ZStack {
            // –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
            VStack(spacing: 0) {
                HeaderView()      // –í—Å–µ–≥–¥–∞ –≤–∏–¥–∏–º—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫
                MainContainer()   // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
                CustomTabBar()    // –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å
            }
            
            // –û–≤–µ—Ä–ª–µ–π –ø–æ–≤–µ—Ä—Ö –≤—Å–µ–≥–æ (–µ—Å–ª–∏ –∞–∫—Ç–∏–≤–µ–Ω)
            if nav.activeOverlay != .none {
                OverlayContainer()
            }
        }
    }
}
```

### 2. MainContainer - —Å–µ—Ä–¥—Ü–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

```swift
struct MainContainer: View {
    @EnvironmentObject var nav: NavigationManager
    
    var body: some View {
        Group {
            // –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ switch
            switch nav.currentRoute {
            case .home:
                HomeView()
            case .search:
                SearchView()
            case .favorites:
                FavoritesView()
            case .profile:
                ProfileView()
            case .detail(let id):
                DetailView(id: id)
            case .favoriteItem(let id):
                FavoriteItemView(id: id)
            // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã
            }
        }
        .transition(.opacity) // –ü–ª–∞–≤–Ω–∞—è —Å–º–µ–Ω–∞ —ç–∫—Ä–∞–Ω–æ–≤
    }
}
```

### 3. CustomTabBar - –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å

```swift
struct CustomTabBar: View {
    @EnvironmentObject var nav: NavigationManager
    
    var body: some View {
        HStack(spacing: 0) {
            TabBarButton(
                icon: "house.fill",
                title: "–ì–ª–∞–≤–Ω–∞—è",
                isSelected: isHomeTab,
                action: { nav.go(.home) }
            )
            // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
        }
    }
    
    // –£–º–Ω–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏
    var isHomeTab: Bool {
        switch nav.currentRoute {
        case .home, .detail:  // detail –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ home
            return true
        default:
            return false
        }
    }
}
```

## üîÑ –¢–∏–ø—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### 1. –ü—Ä–æ—Å—Ç–æ–π –ø–µ—Ä–µ—Ö–æ–¥

```swift
// –ò–∑ HomeView –≤ ProfileView
Button("–ü—Ä–æ—Ñ–∏–ª—å") {
    nav.go(.profile)
}
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- `currentRoute` –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `.profile`
- `routeBeforeComposite` = nil (–Ω–µ –∑–∞–ø–æ–º–∏–Ω–∞–µ–º)
- MainContainer –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç ProfileView
- TabBar –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç –∏–∫–æ–Ω–∫—É –ø—Ä–æ—Ñ–∏–ª—è

### 2. –ü–µ—Ä–µ—Ö–æ–¥ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

```swift
// –û—Ç–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª–∏ —ç–ª–µ–º–µ–Ω—Ç–∞
Button("–î–µ—Ç–∞–ª–∏") {
    nav.go(.detail(id: "item-123"))
}
```

### 3. –°–æ—Å—Ç–∞–≤–Ω–æ–π –º–∞—Ä—à—Ä—É—Ç (—Å –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ–º)

```swift
// –ò–∑ Home –ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ Favorites#5 —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
Button("–ò–∑–±—Ä–∞–Ω–Ω–æ–µ 5 + –ù–∞—Å—Ç—Ä–æ–π–∫–∏") {
    nav.go(.favoriteItemWithSettings(id: "5"))
}
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. `routeBeforeComposite` = `.home` (–∑–∞–ø–æ–º–Ω–∏–ª–∏!)
2. `currentRoute` = `.favoriteItem(id: "5")`
3. `activeOverlay` = `.itemSettings(itemId: "5")`
4. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è FavoriteItemView + –æ–≤–µ—Ä–ª–µ–π –Ω–∞—Å—Ç—Ä–æ–µ–∫
5. –ü—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –æ–≤–µ—Ä–ª–µ—è ‚Üí –≤–æ–∑–≤—Ä–∞—Ç –Ω–∞ Home!

### 4. –û–±—ã—á–Ω—ã–π –æ–≤–µ—Ä–ª–µ–π (–±–µ–∑ –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è)

```swift
// –ù–∞—Ö–æ–¥—è—Å—å –Ω–∞ Search, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–∏–ª—å—Ç—Ä—ã
Button("–§–∏–ª—å—Ç—Ä—ã") {
    nav.showOverlay(.filter)
}
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –û—Å—Ç–∞–µ–º—Å—è –Ω–∞ Search
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è FilterOverlay
- –ü—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –æ—Å—Ç–∞–µ–º—Å—è –Ω–∞ Search

## üí° –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü—Ä–∏–º–µ—Ä 1: E-commerce –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```swift
struct ProductListView: View {
    @EnvironmentObject var nav: NavigationManager
    let products: [Product]
    
    var body: some View {
        ScrollView {
            ForEach(products) { product in
                ProductCard(product: product)
                    .onTapGesture {
                        // –û—Ç–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª–∏ —Ç–æ–≤–∞—Ä–∞
                        nav.go(.detail(id: product.id))
                    }
                    .onLongPressGesture {
                        // –ë—ã—Å—Ç—Ä—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
                        nav.go(.detailWithFilter(id: product.id))
                    }
            }
        }
    }
}
```

### –ü—Ä–∏–º–µ—Ä 2: –°–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å

```swift
struct PostView: View {
    @EnvironmentObject var nav: NavigationManager
    let post: Post
    
    var body: some View {
        VStack {
            // –ê–≤–∞—Ç–∞—Ä –∞–≤—Ç–æ—Ä–∞ - –ø–µ—Ä–µ—Ö–æ–¥ –≤ –ø—Ä–æ—Ñ–∏–ª—å
            Avatar(user: post.author)
                .onTapGesture {
                    nav.go(.profile)  // –∏–ª–∏ .userProfile(id: post.author.id)
                }
            
            // –ö–æ–Ω—Ç–µ–Ω—Ç –ø–æ—Å—Ç–∞
            PostContent(post: post)
            
            // –î–µ–π—Å—Ç–≤–∏—è
            HStack {
                Button("–ü–æ–¥–µ–ª–∏—Ç—å—Å—è") {
                    nav.showOverlay(.share(postId: post.id))
                }
                
                Button("–ù–∞—Å—Ç—Ä–æ–π–∫–∏") {
                    // –ò–∑ –ª–µ–Ω—Ç—ã —Å—Ä–∞–∑—É –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—Å—Ç–∞
                    // –ü–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è –≤–µ—Ä–Ω–µ–º—Å—è –≤ –ª–µ–Ω—Ç—É
                    nav.go(.postWithSettings(id: post.id))
                }
            }
        }
    }
}
```

### –ü—Ä–∏–º–µ—Ä 3: –ë–∞–Ω–∫–æ–≤—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```swift
struct AccountView: View {
    @EnvironmentObject var nav: NavigationManager
    
    var body: some View {
        VStack {
            // –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
            HStack {
                QuickActionButton("–ü–µ—Ä–µ–≤–æ–¥") {
                    // –ü—Ä—è–º–æ–π –ø–µ—Ä–µ—Ö–æ–¥ –º–∏–Ω—É—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã
                    nav.go(.transfer)
                }
                
                QuickActionButton("–ü–ª–∞—Ç–µ–∂–∏") {
                    nav.go(.payments)
                }
            }
            
            // –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π
            TransactionList()
                .onTapGesture {
                    nav.go(.transactionHistory)
                }
        }
    }
}
```

## üöÄ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### Deep Linking

```swift
extension NavigationManager {
    func handleDeepLink(_ url: URL) {
        guard let components = URLComponents(url: url, resolvingAgainstBaseURL: true) else { return }
        
        switch components.path {
        case "/product":
            if let id = components.queryItems?.first(where: { $0.name == "id" })?.value {
                go(.detail(id: id))
            }
            
        case "/profile/settings":
            go(.profileWithSettings)
            
        case "/favorites":
            if let itemId = components.queryItems?.first(where: { $0.name == "item" })?.value {
                go(.favoriteItemWithSettings(id: itemId))
            }
            
        default:
            go(.home)
        }
    }
}
```

### –£—Å–ª–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è

```swift
extension NavigationManager {
    func navigateToProtectedScreen() {
        if UserManager.shared.isAuthenticated {
            go(.profile)
        } else {
            go(.login(returnTo: .profile))
        }
    }
    
    func completeOnboarding() {
        UserDefaults.standard.set(true, forKey: "onboardingCompleted")
        go(.home)
    }
}
```

### –ù–∞–≤–∏–≥–∞—Ü–∏—è —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π

```swift
extension NavigationManager {
    func goWithCustomAnimation(_ route: Route, animation: Animation = .spring()) {
        withAnimation(animation) {
            go(route)
        }
    }
    
    func showOverlayFromBottom(_ type: OverlayType) {
        withAnimation(.spring(response: 0.3, dampingFraction: 0.8)) {
            activeOverlay = type
        }
    }
}
```

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å NavigationStack

| –§—É–Ω–∫—Ü–∏—è | NavigationStack | –ù–∞—à –ø–æ–¥—Ö–æ–¥ |
|---------|----------------|------------|
| –õ–∏–Ω–µ–π–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è | ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è | ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è |
| –ü—Ä—è–º—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã | ‚ùå –ß–µ—Ä–µ–∑ —Å—Ç–µ–∫ | ‚úÖ –ù–∞–ø—Ä—è–º—É—é |
| –í–æ–∑–≤—Ä–∞—Ç –Ω–∞ –ª—é–±–æ–π —ç–∫—Ä–∞–Ω | ‚ùå –¢–æ–ª—å–∫–æ –Ω–∞–∑–∞–¥ | ‚úÖ –ö—É–¥–∞ —É–≥–æ–¥–Ω–æ |
| –ü–∞–º—è—Ç—å –æ –∏—Å—Ç–æ—á–Ω–∏–∫–µ | ‚ùå –ù–µ—Ç | ‚úÖ –î–ª—è —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ |
| –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ | ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω—ã | ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å |
| –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏ | ‚ö†Ô∏è –°—Ç–µ–∫ –º–æ–∂–µ—Ç –∑–∞–ø—É—Ç–∞—Ç—å | ‚úÖ –ü—Ä–æ—Å—Ç–æ–π switch |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ | ‚úÖ –û—Ç–ª–∏—á–Ω–∞—è |
| iOS —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å | ‚ùå iOS 16+ | ‚úÖ iOS 14+ |

## üîß –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞

1. –î–æ–±–∞–≤—å—Ç–µ case –≤ Route enum:
```swift
enum Route: Equatable {
    // —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ...
    case newFeature
    case newFeatureWithSettings  // —Å–æ—Å—Ç–∞–≤–Ω–æ–π
}
```

2. –û–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ –≤ MainContainer:
```swift
switch nav.currentRoute {
    // —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ...
    case .newFeature:
        NewFeatureView()
}
```

3. –î–æ–±–∞–≤—å—Ç–µ –ª–æ–≥–∏–∫—É –¥–ª—è —Å–æ—Å—Ç–∞–≤–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞:
```swift
func go(_ route: Route) {
    switch route {
        // —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ...
        case .newFeatureWithSettings:
            routeBeforeComposite = currentRoute
            currentRoute = .newFeature
            activeOverlay = .settings
    }
}
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

```swift
extension NavigationManager {
    private var history: [Route] = []
    
    func go(_ route: Route) {
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
        if currentRoute != route {
            history.append(currentRoute)
            if history.count > 10 {
                history.removeFirst()
            }
        }
        // ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞
    }
    
    func goBack() {
        if let previousRoute = history.popLast() {
            go(previousRoute)
        }
    }
}
```

## üêõ –û—Ç–ª–∞–¥–∫–∞ –∏ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

```swift
extension NavigationManager {
    func go(_ route: Route) {
        #if DEBUG
        print("üß≠ Navigation: \(currentRoute) ‚Üí \(route)")
        if let saved = routeBeforeComposite {
            print("üíæ Saved route: \(saved)")
        }
        #endif
        
        // ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞
    }
}
```

### –í–∏–∑—É–∞–ª—å–Ω—ã–π –æ—Ç–ª–∞–¥—á–∏–∫

```swift
struct NavigationDebugView: View {
    @EnvironmentObject var nav: NavigationManager
    
    var body: some View {
        VStack {
            Text("Current: \(String(describing: nav.currentRoute))")
            Text("Overlay: \(String(describing: nav.activeOverlay))")
            
            if nav.routeBeforeComposite != nil {
                Text("Will return to: \(String(describing: nav.routeBeforeComposite))")
                    .foregroundColor(.orange)
            }
        }
        .padding()
        .background(Color.black.opacity(0.8))
        .foregroundColor(.white)
        .font(.caption)
    }
}
```

## ‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### Q: –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ –≤–º–µ—Å—Ç–æ NavigationStack?

**A:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–≥–¥–∞:
- –ù—É–∂–Ω—ã –ø—Ä—è–º—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É –Ω–µ—Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ —ç–∫—Ä–∞–Ω–∞–º–∏
- –¢—Ä–µ–±—É–µ—Ç—Å—è —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞
- –ù—É–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ iOS < 16
- –•–æ—Ç–∏—Ç–µ –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π

### Q: –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∂–µ—Å—Ç "–Ω–∞–∑–∞–¥"?

**A:** –î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–π –∂–µ—Å—Ç:
```swift
.gesture(
    DragGesture()
        .onEnded { value in
            if value.translation.width > 100 {
                nav.goBack()
            }
        }
)
```

### Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å NavigationStack —á–∞—Å—Ç–∏—á–Ω–æ?

**A:** –î–∞! –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å NavigationStack –≤–Ω—É—Ç—Ä–∏ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö View:
```swift
case .settings:
    NavigationStack {
        SettingsView()
    }
```

### Q: –ö–∞–∫ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ?

**A:** –°–¥–µ–ª–∞–π—Ç–µ Route —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º Codable:
```swift
extension Route: Codable {
    // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è encoding/decoding
}

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
UserDefaults.standard.set(
    try? JSONEncoder().encode(currentRoute),
    forKey: "lastRoute"
)
```

### Q: –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –ª–∏ iPad –∏ –º–Ω–æ–≥–æ–æ–∫–æ–Ω–Ω–æ—Å—Ç—å?

**A:** –î–∞, –∫–∞–∂–¥–æ–µ –æ–∫–Ω–æ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Å–≤–æ–π NavigationManager:
```swift
WindowGroup {
    ContentView()
        .environmentObject(NavigationManager())
}
```

## üéØ –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ–≤–æ—Ä—è—â–∏–µ –∏–º–µ–Ω–∞** –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–æ–≤
2. **–ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã** –≤ enum
3. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å–æ—Å—Ç–∞–≤–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã**
4. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ—Ö–æ–¥—ã** –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏
5. **–ò–∑–±–µ–≥–∞–π—Ç–µ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤**
6. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–Ω–∏–º–∞—Ü–∏–∏** –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è UX
7. **–õ–æ–≥–∏—Ä—É–π—Ç–µ –Ω–∞–≤–∏–≥–∞—Ü–∏—é** –≤ debug —Ä–µ–∂–∏–º–µ

## üìö –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–≠—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ –∫ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –¥–∞–µ—Ç –≤–∞–º –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –ø–æ—Ç–æ–∫–∞–º–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏. –û–Ω –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–µ–Ω –¥–ª—è:
- –°–ª–æ–∂–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å –Ω–µ–ª–∏–Ω–µ–π–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —Ç–æ—á–∫–∞–º–∏ –≤—Ö–æ–¥–∞
- –ü—Ä–æ–µ–∫—Ç–æ–≤, —Ç—Ä–µ–±—É—é—â–∏—Ö –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
- –ö–æ–º–∞–Ω–¥, –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é—â–∏—Ö —è–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- üöÄ –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã
- üéØ –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
- üõ† –ü—Ä–æ—Å—Ç–æ—Ç–∞ –æ—Ç–ª–∞–¥–∫–∏
- üì± –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ä—ã—Ö iOS
- üîÑ –£–º–Ω—ã–µ –≤–æ–∑–≤—Ä–∞—Ç—ã

### –ü–æ–º–Ω–∏—Ç–µ:
> "–õ—É—á—à–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è - —Ç–∞, –∫–æ—Ç–æ—Ä—É—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞–º–µ—á–∞–µ—Ç"

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ —Ä–∞–∑—É–º–Ω–æ, –∏ –≤–∞—à–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±—É–¥—É—Ç –Ω–∞—Å–ª–∞–∂–¥–∞—Ç—å—Å—è –ø–ª–∞–≤–Ω–æ–π –∏ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π!

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–ê–≤—Ç–æ—Ä:** –ê–Ω—Ç–æ–Ω  
**–õ–∏—Ü–µ–Ω–∑–∏—è:** MIT  
**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 2025
